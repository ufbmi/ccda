<!DOCTYPE html>
<html lang="en" ng-app="phpunit" ng-controller="MainController" ng-cloak>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="{{config.description}}">
    <meta name="author" content="{{config.author}}">
    <link rel="icon" href="../../favicon.ico">

    <title>{{config.title}}</title>

    <!-- Bootstrap core CSS -->
    <link href="../../../web/assets/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="./assets/style.css" rel="stylesheet">

    <script src="../../../web/assets/js/angular-1.4.0/angular.min.js"></script>
    <script src="./assets/config.js"></script>
    <script src="./assets/app.js"></script>
    <script src="./assets/controllers.js"></script>
    <script src="./assets/run.js"></script>
    <script src="../../../web/app/services.js"></script>

  </head>

  <body>

    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="">{{config.title}}</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <!-- <li class="active"><a href="#">Home</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#contact">Contact</a></li> -->
          </ul>
        </div>
      </div>
    </nav>
    <br/>
    <div class="container">
      <div ng-show="!data_loaded">
        <strong>Waiting for test results....</strong><br/>
        <div class="progress">
          <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
            <span class="sr-only"></span>
          </div>
        </div>
      </div>
      <div class="panel panel-primary" ng-show="data_loaded">
        <div class="panel-heading">
            <h3 class="panel-title">PHPUnit Testing Suite Details</h3>
        </div>
        <div class="panel-body">
          <div class="row">
            <div class="col-md-2 text-right"><strong>Total Tests:</strong></div>
            <div class="col-md-10">{{suite.tests}}</div>
          </div>
          <div class="row">
            <div class="col-md-2 text-right bg-success"><strong>Passed:</strong></div>
            <div class="col-md-10 bg-success">{{suite.passed}}</div>
          </div>
          <div class="row">
            <div class="col-md-2 text-right bg-danger"><strong>Failed:</strong></div>
            <div class="col-md-10 bg-danger">{{suite.failed}}</div>
          </div>
          <div class="row">
            <div class="col-md-2 text-right bg-warning"><strong>Errors:</strong></div>
            <div class="col-md-10 bg-warning">{{suite.errors}}</div>
          </div>
        </div>
      </div>
      <div ng-show="suites_loaded">
        <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="false">
          <div class="panel panel-info" ng-repeat="suite in suite.suites">
            <div class="panel-heading" role="tab" id="heading_{{suite.suite}}" data-toggle="collapse" data-parent="#accordion" data-target="#collapse_{{suite.suite}}">
              <h4 class="panel-title">
                <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse_{{suite.suite}}" aria-expanded="true" aria-controls="collapse_{{suite.suite}}">{{suite.suite}}</a>
                <span class="pull-right"><span class="label label-primary">{{suite.tests.length}}</span> <span class="label label-success">{{suite.passed}}</span> <span class="label label-danger">{{suite.failed}}</span> <span class="label label-warning">{{suite.errors}}</span></span></h4>
            </div>
            <!-- <div class="panel-body">
            </div> -->
            <div id="collapse_{{suite.suite}}" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading_{{suite.suite}}">
              <table class="table table-hover">
                <tr class="active">
                  <th width="40%">Test</th>
                  <th width="20%">Method</th>
                  <th width="30%">Intent</th>
                  <th width="5%">Outcome</th>
                  <th width="5%">Time</th>
                </tr>
                <tr ng-class="{ 'success' : test.status=='pass', 'danger' : test.status=='fail', 'warning': test.status=='error' }" ng-repeat="test in suite.tests">
                  <td>{{test.test}}</td>
                  <td>{{test.parts.method}}</td>
                  <td>{{test.parts.intent}}</td>
                  <td>{{test.status}}</td>
                  <td>{{test.time}}</td>
                </tr>
              </table>
            </div>
          </di>
        </div>
      </div>
    </div>
  </div>


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../../../web/assets/js/jquery-1.11.2.min.js"></script>
    <script src="../../../web/assets/js/bootstrap.min.js"></script>
  </body>
</html>
